# Shell Script

## 简介

本文针对 bash 进行。

## 变量

### 变量定义与使用

变量定义直接使用 `=`，注意等号两边不能有空格。

```bash
var="hello"
```

使用变量只需要通过美元符号引用即可，变量名可以加上额外的花括号来帮助解释器识别变量边界。

```bash
echo $var
echo ${var}
```

## 参数

### 参数传递

我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：`$n`。n 代表一个数字，其中 0 为执行的文件名（包含文件路径），1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推。

### 特殊参数

有几个特殊字符用来处理参数：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| $#   | 传递到脚本或函数的参数个数                                   |
| $*   | 以一个单字符串显示所有向脚本传递的参数                       |
| $$   | 脚本运行的当前进程ID号                                       |
| $!   | 后台运行的最后一个进程的ID号                                 |
| $@   | 与$*相同，但是使用时加引号，并在引号中返回每个参数。         |
| $-   | 显示Shell使用的当前选项，与set命令功能相同。                 |
| $?   | 显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。 |

## 数据类型

### 字符串

字符串是 shell 编程中最常用最有用的数据类型，字符串可以用单引号，双引号，也可以不用引号。

推荐使用双引号，双引号的优点包括：

- 双引号里可以有变量。
- 双引号里可以出现转义字符。
- 与绝大多数编程语言习惯保持一致。

## 流程控制

### if 语句

单独使用 if 语句

```bash
if [ condition ]; then
	command1
	command2
fi
```

if else 语句

```bash
if [ condition ]; then
	command1
else
	command2
fi
```

多级 if else 嵌套使用

```bash
if [ condition ]; then
	command1
elif [ condition ]; then
	command2
else
	command3
fi
```



### for 循环

## 参考

- [Advanced Bash-Scripting Guide](http://tldp.org/LDP/abs/html/index.html)

